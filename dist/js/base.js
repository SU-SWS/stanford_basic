!function(n){var i={};function s(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=n,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=10)}({0:function(t,e){NodeList.prototype.forEach=NodeList.prototype.forEach||Array.prototype.forEach},1:function(t,e,n){},10:function(t,e,n){"use strict";n.r(e);n(0);function s(){l.forEach(function(t){t.closeSubNav()})}function a(){u.forEach(function(t){t.closeMobileNav()})}function i(t){return" "===t||"Spacebar"===t||32===t}function o(t){return"Enter"===t||13===t}function r(t){if("string"!=typeof t||t.length<=0)return null;if("function"==typeof Event)return new Event(t);var e=document.createEvent("UIEvent");return e.initEvent(t,!0,!0),e}var u=[],l=[];function h(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var v=function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.item=t,this.nav=e,this.link=this.item.querySelector("a"),this.subNav=null,this.item.addEventListener("keydown",this),this.isSubNavTrigger()&&(this.subNav=new f(this),this.openEvent=r("openSubnav"),this.closeEvent=r("closeSubnav"),l.push(this),this.item.addEventListener("click",this))}return function(t,e,n){e&&h(t.prototype,e),n&&h(t,n)}(n,[{key:"isFirstItem",value:function(){return 0===this.nav.items.indexOf(this)}},{key:"isLastItem",value:function(){return this.nav.items.indexOf(this)===this.nav.items.length-1}},{key:"isSubNavTrigger",value:function(){return"UL"===this.item.lastElementChild.tagName.toUpperCase()}},{key:"isSubNavItem",value:function(){return this.isSubNavTrigger()||this.nav.isSubNav()}},{key:"isExpanded",value:function(){return"true"===this.link.getAttribute("aria-expanded")}},{key:"setExpanded",value:function(t){this.link.setAttribute("aria-expanded",t)}},{key:"openSubNav",value:function(t){var e=!(0<arguments.length&&void 0!==t)||t;s(),this.isSubNavTrigger()&&(this.item.classList.add("su-main-nav__item--expanded"),this.setExpanded("true"),e&&this.subNav.focusOn("first"),this.item.dispatchEvent(this.openEvent))}},{key:"closeSubNav",value:function(t){var e=0<arguments.length&&void 0!==t&&t;this.isSubNavTrigger()?this.isExpanded()&&(this.item.classList.remove("su-main-nav__item--expanded"),this.setExpanded("false"),e&&this.link.focus(),this.item.dispatchEvent(this.closeEvent)):this.isSubNavItem()&&this.nav.elem.closeSubNav(e)}},{key:"handleEvent",value:function(t){var e="on"+(t=t||window.event).type.charAt(0).toUpperCase()+t.type.slice(1);if("function"==typeof this[e]){var n=t.target||t.srcElement;return this[e](t,n)}}},{key:"onKeydown",value:function(t){var e=t.key||t.keyCode;if(i(e)||o(e))t.preventDefault(),t.stopPropagation(),this.isSubNavTrigger()?this.openSubNav():window.location=this.link;else if(function(t){return"ArrowDown"===t||"Down"===t||40===t}(e))t.preventDefault(),t.stopPropagation(),this.nav.isDesktopNav()&&this.isSubNavTrigger()?this.openSubNav():this.nav.focusOn("next",this);else if(function(t){return"ArrowUp"===t||"Up"===t||38===t}(e))t.preventDefault(),t.stopPropagation(),this.nav.focusOn("prev",this);else if(function(t){return"ArrowLeft"===t||"Left"===t||37===t}(e)){if(t.preventDefault(),t.stopPropagation(),this.nav.isDesktopNav())if(this.nav.isSubNav())this.closeSubNav(),this.nav.getParentNav().focusOn("prev",this.nav.elem);else this.nav.focusOn("prev",this);else this.isSubNavItem()&&this.closeSubNav(!0)}else if(function(t){return"ArrowRight"===t||"Right"===t||39===t}(e)){if(t.preventDefault(),t.stopPropagation(),this.nav.isDesktopNav())if(this.nav.isSubNav())this.closeSubNav(),this.nav.getParentNav().focusOn("next",this.nav.elem);else this.nav.focusOn("next",this);else this.isSubNavTrigger()&&this.openSubNav()}else if(function(t){return"Home"===t||122===t}(e))this.nav.focusOn("first");else if(function(t){return"End"===t||123===t}(e))this.nav.focusOn("last");else if(function(t){return"Tab"===t||9===t}(e)){t.stopPropagation();var n=t.shiftKey;this.isSubNavItem()&&(!n&&this.isLastItem()||n&&this.isFirstItem())&&this.closeSubNav(!0)}}},{key:"onClick",value:function(t,e){this.isExpanded()?this.closeSubNav():this.openSubNav(!1),e===this.link&&(t.preventDefault(),t.stopPropagation())}}]),n}();function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var f=function(){function n(t){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.elem=t,this.topNav=this.getTopNav(),t instanceof v&&(t=t.item),this.toggle=t.querySelector(t.tagName+" > button"),this.toggleText=this.toggle?this.toggle.innerText:"",this.items=[],this.openEvent=r("openNav"),this.closeEvent=r("closeNav"),t.querySelectorAll(t.tagName+" > ul > li").forEach(function(t){e.items.push(new v(t,e))}),t.addEventListener("keydown",this),this.toggle&&this.toggle.addEventListener("click",this)}return function(t,e,n){e&&c(t.prototype,e),n&&c(t,n)}(n,[{key:"getTopNav",value:function(){for(var t=this;t.elem instanceof v;)t=t.elem.nav;return t}},{key:"getParentNav",value:function(){return this.isSubNav()?this.elem.nav:this}},{key:"isExpanded",value:function(){return this.elem instanceof v?this.elem.isExpanded():"true"===this.elem.getAttribute("aria-expanded")}},{key:"setExpanded",value:function(t){this.elem instanceof v?this.elem.setExpanded(t):(this.elem.setAttribute("aria-expanded",t),this.toggle&&this.toggle.setAttribute("aria-expanded",t))}},{key:"isDesktopNav",value:function(){return"none"===getComputedStyle(this.topNav.toggle).display}},{key:"isTopNav",value:function(){return this.topNav===this}},{key:"isSubNav",value:function(){return this.topNav!==this}},{key:"getFirstItem",value:function(){return this.items.length?this.items[0]:null}},{key:"getLastItem",value:function(){return this.items.length?this.items[this.items.length-1]:null}},{key:"getFirstLink",value:function(){return this.items.length?this.getFirstItem().link:null}},{key:"getLastLink",value:function(){return this.items.length?this.getLastItem().link:null}},{key:"focusOn",value:function(t,e){var n=1<arguments.length&&void 0!==e?e:null,i=null,s=null;switch(n&&(i=this.items.indexOf(n),s=this.items.length-1),t){case"first":this.getFirstLink().focus();break;case"last":this.getLastLink().focus();break;case"next":i===s?this.getFirstLink().focus():this.items[i+1].link.focus();break;case"prev":0===i?this.getLastLink().focus():this.items[i-1].link.focus();break;default:Number.isInteger(t)&&0<=t&&t<this.items.length&&this.items[t].link.focus()}}},{key:"openMobileNav",value:function(t){var e=!(0<arguments.length&&void 0!==t)||t;a(),this.setExpanded("true"),this.toggle.innerText="Close",e&&this.focusOn("first"),this.elem.dispatchEvent(this.openEvent)}},{key:"closeMobileNav",value:function(){this.isExpanded()&&(this.setExpanded("false"),this.toggle.innerText=this.toggleText,this.elem.dispatchEvent(this.closeEvent))}},{key:"handleEvent",value:function(t){var e="on"+(t=t||window.event).type.charAt(0).toUpperCase()+t.type.slice(1);if("function"==typeof this[e]){var n=t.target||t.srcElement;return this[e](t,n)}}},{key:"onClick",value:function(t,e){e===this.toggle&&(t.preventDefault(),t.stopPropagation(),this.isExpanded()?this.closeMobileNav():this.openMobileNav(!1))}},{key:"onKeydown",value:function(t,e){var n=t.key||t.keyCode;!function(t){return"Escape"===t||"Esc"===t||27===t}(n)?(o(n)||i(n))&&e===this.toggle&&(t.preventDefault(),t.stopPropagation(),this.isExpanded()||this.openMobileNav()):this.isTopNav()?this.isDesktopNav()||(t.preventDefault(),t.stopPropagation(),this.closeMobileNav(),this.toggle.focus()):this.isExpanded()&&(t.preventDefault(),t.stopPropagation(),this.elem.closeSubNav(!0))}}]),n}();document.addEventListener("DOMContentLoaded",function(t){var i,n="su-main-nav";document.querySelectorAll("."+n).forEach(function(t,e){t.classList.remove("no-js");var n=new f(t);u.push(n),0===e?i=getComputedStyle(t,null).zIndex:t.style.zIndex=i-300*e}),document.addEventListener("click",function(t){var e=t.target||t.srcElement;e.matches("."+n+" "+e.tagName)||(s(),a())},!1)});n(1)}});
//# sourceMappingURL=base.js.map